# Benchmarks

Command used: `FFT_BENCH_MAX=32768 GOAMD64=v3 go test -tags=asm -bench . -benchmem ./bench`

Notes:
- `algo-fft` pinned to v0.5.1; use `-tags=asm` to enable SIMD on amd64.
- Results are from the latest local run; rerun to refresh.
- FFTW plan probe for size 128 reports `dft-direct-128 "n1fv_128_sse2"`, which is a size-specific SIMD codelet generated by FFTW at build time (see `dft/simd/codlist.mk` and `dft/simd/common/Makefile.am` in the FFTW source tree).

## algo-fft

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |   16.39 | 7807.49 |       0 |         0 |
|    16 |   54.75 | 4675.84 |       0 |         0 |
|    32 |   129.8 | 3945.53 |       0 |         0 |
|    64 |   281.4 | 3638.72 |       0 |         0 |
|   128 |   830.0 | 2467.58 |       0 |         0 |
|   256 |    1603 | 2555.00 |       0 |         0 |
|   512 |    2177 | 3763.21 |       0 |         0 |
|  1024 |    8883 | 1844.51 |       0 |         0 |
|  2048 |   32018 | 1023.44 |      32 |         1 |
|  4096 |   47793 | 1371.25 |       0 |         0 |
|  8192 |  261678 |  500.89 |      32 |         1 |
| 16384 |  802748 |  326.56 | 1572865 |         6 |
| 32768 | 1188535 |  441.12 |      32 |         1 |

## go-fftw

|  Size |  ns/op |     MB/s | B/op | allocs/op |
| ----- | ------ | -------- | ---- | --------- |
|     8 |  61.47 |  2082.20 |    0 |         0 |
|    16 |  78.58 |  3257.63 |    0 |         0 |
|    32 |  89.03 |  5750.90 |    0 |         0 |
|    64 |  148.7 |  6886.37 |    0 |         0 |
|   128 |  236.8 |  8647.90 |    0 |         0 |
|   256 |  414.4 |  9884.21 |    0 |         0 |
|   512 |   1429 |  5733.49 |    0 |         0 |
|  1024 |   1535 | 10670.80 |    0 |         0 |
|  2048 |   4492 |  7295.04 |    0 |         0 |
|  4096 |  10607 |  6178.72 |    0 |         0 |
|  8192 |  52870 |  2479.12 |    0 |         0 |
| 16384 |  88113 |  2975.10 |    0 |         0 |
| 32768 | 158174 |  3314.62 |    0 |         0 |

## gonum

|  Size |   ns/op |    MB/s | B/op | allocs/op |
| ----- | ------- | ------- | ---- | --------- |
|     8 |   140.7 |  909.73 |    0 |         0 |
|    16 |   216.5 | 1182.71 |    0 |         0 |
|    32 |   612.8 |  835.48 |    0 |         0 |
|    64 |    1179 |  868.65 |    0 |         0 |
|   128 |    2624 |  780.41 |    0 |         0 |
|   256 |    4897 |  836.40 |    0 |         0 |
|   512 |   11530 |  710.51 |    0 |         0 |
|  1024 |   27236 |  601.55 |    0 |         0 |
|  2048 |   59758 |  548.35 |    0 |         0 |
|  4096 |  111936 |  585.48 |    0 |         0 |
|  8192 |  647893 |  202.31 |    0 |         0 |
| 16384 | 1087610 |  241.03 |    0 |         0 |
| 32768 | 1518568 |  345.25 |    0 |         0 |

## go-dsp-fft

|  Size |   ns/op |   MB/s |    B/op | allocs/op |
| ----- | ------- | ------ | ------- | --------- |
|     8 |    7010 |  18.26 |     750 |        17 |
|    16 |    8057 |  31.77 |    1179 |        25 |
|    32 |   14786 |  34.63 |    2076 |        41 |
|    64 |   23441 |  43.68 |    3408 |        44 |
|   128 |   20412 | 100.34 |    6302 |        57 |
|   256 |   28574 | 143.35 |   11713 |        67 |
|   512 |   50806 | 161.24 |   22678 |        80 |
|  1024 |   77774 | 210.66 |   43852 |        91 |
|  2048 |  138416 | 236.74 |   85793 |       104 |
|  4096 |  280202 | 233.89 |  165845 |       115 |
|  8192 |  636120 | 206.05 |  329900 |       128 |
| 16384 |  976781 | 268.38 |  657778 |       139 |
| 32768 | 1789648 | 292.96 | 1313334 |       152 |
