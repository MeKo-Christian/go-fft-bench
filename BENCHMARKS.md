# Benchmarks

Command used: \`FFT_BENCH_MAX=32768 GOAMD64=v3 go test -tags=asm -bench . -benchmem ./bench\`

Notes:
- Results are from the latest local run.
- \`algo-fft\` benchmarks include both complex128 and complex64.
- \`go-fftw\` requires FFTW shared libraries.
- \`go-dsp-fft\` allocates on every call (no reusable plan).

## FFT Benchmarks

### algo-fft

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |    13.9 | 9235.18 |       0 |         0 |
|    16 |    57.7 | 4437.47 |       0 |         0 |
|    32 |   178.6 | 2866.65 |       0 |         0 |
|    64 |   330.0 | 3102.59 |       0 |         0 |
|   128 |    1337 | 1532.00 |       0 |         0 |
|   256 |    1681 | 2436.60 |       0 |         0 |
|   512 |    3047 | 2688.64 |       0 |         0 |
|  1024 |    9214 | 1778.23 |       0 |         0 |
|  2048 |   17478 | 1874.83 |       0 |         0 |
|  4096 |  112671 |  581.66 |       0 |         0 |
|  8192 |  442522 |  296.19 |  786432 |         6 |
| 16384 |  264989 |  989.26 |       0 |         0 |
| 32768 | 2709604 |  193.49 |     806 |         1 |

### go-dsp-fft

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |   11881 |   10.77 |     753 |        17 |
|    16 |   10483 |   24.42 |    1179 |        25 |
|    32 |   13306 |   38.48 |    2075 |        41 |
|    64 |   23361 |   43.83 |    3406 |        44 |
|   128 |   22243 |   92.07 |    6302 |        57 |
|   256 |   30748 |  133.21 |   11713 |        67 |
|   512 |   60856 |  134.61 |   22677 |        80 |
|  1024 |   77819 |  210.54 |   43853 |        91 |
|  2048 |  261652 |  125.24 |   85787 |       104 |
|  4096 |  281570 |  232.75 |  165843 |       115 |
|  8192 |  703592 |  186.29 |  329898 |       128 |
| 16384 |  945355 |  277.30 |  657766 |       139 |
| 32768 | 3235738 |  162.03 | 1313365 |       152 |

### go-fftw

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |    81.8 | 1565.52 |       0 |         0 |
|    16 |   143.5 | 1783.61 |       0 |         0 |
|    32 |   177.3 | 2887.24 |       0 |         0 |
|    64 |   388.1 | 2638.36 |       0 |         0 |
|   128 |   253.5 | 8078.16 |       0 |         0 |
|   256 |   470.8 | 8699.23 |       0 |         0 |
|   512 |    1048 | 7815.93 |       0 |         0 |
|  1024 |    1968 | 8327.08 |       0 |         0 |
|  2048 |    9427 | 3476.04 |       0 |         0 |
|  4096 |   18595 | 3524.38 |       0 |         0 |
|  8192 |   58843 | 2227.50 |       0 |         0 |
| 16384 |  129748 | 2020.40 |       0 |         0 |
| 32768 |  615569 |  851.71 |       0 |         0 |

### gonum

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |   222.7 |  574.64 |       0 |         0 |
|    16 |   358.7 |  713.70 |       0 |         0 |
|    32 |   741.9 |  690.11 |       0 |         0 |
|    64 |    2069 |  494.85 |       0 |         0 |
|   128 |    2460 |  832.47 |       0 |         0 |
|   256 |    5084 |  805.72 |       0 |         0 |
|   512 |   14975 |  547.03 |       0 |         0 |
|  1024 |   31019 |  528.19 |       0 |         0 |
|  2048 |  122756 |  266.94 |       0 |         0 |
|  4096 |  201769 |  324.81 |       0 |         0 |
|  8192 |  664860 |  197.14 |       0 |         0 |
| 16384 |  882302 |  297.11 |       0 |         0 |
| 32768 | 3670461 |  142.84 |       0 |         0 |

### takatoh

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |   556.5 |  230.00 |     128 |         1 |
|    16 |    1106 |  231.47 |     256 |         1 |
|    32 |    2638 |  194.08 |     512 |         1 |
|    64 |    8706 |  117.62 |    1024 |         1 |
|   128 |   11607 |  176.45 |    2048 |         1 |
|   256 |   24202 |  169.24 |    4096 |         1 |
|   512 |   75680 |  108.25 |    8192 |         1 |
|  1024 |  115139 |  142.30 |   16384 |         1 |
|  2048 |  650036 |   50.41 |   32768 |         1 |
|  4096 |  876956 |   74.73 |   65536 |         1 |
|  8192 | 1272349 |  103.02 |  131072 |         1 |
| 16384 | 3517882 |   74.52 |  262144 |         1 |
| 32768 | 9491402 |   55.24 |  524288 |         1 |

## IFFT Benchmarks

### algo-fft

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |    21.4 | 5981.98 |       0 |         0 |
|    16 |    43.2 | 5921.75 |       0 |         0 |
|    32 |   136.6 | 3747.33 |       0 |         0 |
|    64 |   271.7 | 3768.62 |       0 |         0 |
|   128 |   745.7 | 2746.57 |       0 |         0 |
|   256 |    1760 | 2326.99 |       0 |         0 |
|   512 |    3386 | 2419.70 |       0 |         0 |
|  1024 |    9262 | 1769.02 |       0 |         0 |
|  2048 |   23618 | 1387.39 |       0 |         0 |
|  4096 |   63616 | 1030.18 |       0 |         0 |
|  8192 |  372520 |  351.85 |  786432 |         6 |
| 16384 |  208311 | 1258.42 |       0 |         0 |
| 32768 |  665318 |  788.03 |     656 |         1 |

### go-dsp-fft

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |    8217 |   15.58 |     858 |        18 |
|    16 |    9722 |   26.33 |    1434 |        26 |
|    32 |   12240 |   41.83 |    2587 |        42 |
|    64 |   17459 |   58.65 |    4428 |        45 |
|   128 |   24264 |   84.40 |    8350 |        58 |
|   256 |   35055 |  116.85 |   15811 |        68 |
|   512 |   53193 |  154.01 |   30870 |        81 |
|  1024 |  112723 |  145.35 |   60238 |        92 |
|  2048 |  176331 |  185.83 |  118558 |       105 |
|  4096 |  346042 |  189.39 |  231379 |       116 |
|  8192 |  701851 |  186.75 |  460971 |       129 |
| 16384 | 1250807 |  209.58 |  919914 |       140 |
| 32768 | 2354306 |  222.69 | 1837652 |       153 |

### go-fftw

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |   122.3 | 1046.34 |       0 |         0 |
|    16 |   120.1 | 2132.41 |       0 |         0 |
|    32 |    93.2 | 5493.82 |       0 |         0 |
|    64 |   155.2 | 6599.23 |       0 |         0 |
|   128 |   186.6 | 10975.98 |       0 |         0 |
|   256 |   409.3 | 10006.16 |       0 |         0 |
|   512 |   762.9 | 10737.44 |       0 |         0 |
|  1024 |    3202 | 5116.26 |       0 |         0 |
|  2048 |    4204 | 7794.79 |       0 |         0 |
|  4096 |   15421 | 4249.79 |       0 |         0 |
|  8192 |   30007 | 4368.08 |       0 |         0 |
| 16384 |   67267 | 3897.04 |       0 |         0 |
| 32768 |  148144 | 3539.04 |       0 |         0 |

### gonum

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |   129.9 |  985.01 |       0 |         0 |
|    16 |   204.3 | 1253.23 |       0 |         0 |
|    32 |   552.8 |  926.16 |       0 |         0 |
|    64 |    1610 |  636.07 |       0 |         0 |
|   128 |    2378 |  861.26 |       0 |         0 |
|   256 |    4881 |  839.23 |       0 |         0 |
|   512 |   12036 |  680.63 |       0 |         0 |
|  1024 |   31061 |  527.47 |       0 |         0 |
|  2048 |   59663 |  549.22 |       0 |         0 |
|  4096 |  172437 |  380.06 |       0 |         0 |
|  8192 |  263818 |  496.83 |       0 |         0 |
| 16384 |  585586 |  447.66 |       0 |         0 |
| 32768 | 1301401 |  402.86 |       0 |         0 |

### takatoh

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |   450.7 |  284.00 |     256 |         2 |
|    16 |    1061 |  241.17 |     512 |         2 |
|    32 |    2279 |  224.62 |    1024 |         2 |
|    64 |    4947 |  206.98 |    2048 |         2 |
|   128 |   11872 |  172.51 |    4096 |         2 |
|   256 |   25114 |  163.10 |    8192 |         2 |
|   512 |   56851 |  144.10 |   16384 |         2 |
|  1024 |  178872 |   91.60 |   32768 |         2 |
|  2048 |  242439 |  135.16 |   65536 |         2 |
|  4096 |  685028 |   95.67 |  131072 |         2 |
|  8192 | 1077604 |  121.63 |  262144 |         2 |
| 16384 | 2343806 |  111.85 |  524289 |         2 |
| 32768 | 5308432 |   98.77 | 1048576 |         2 |

## FFT32 Benchmarks

### algo-fft

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |    10.5 | 6086.27 |       0 |         0 |
|    16 |    15.1 | 8471.00 |       0 |         0 |
|    32 |    38.6 | 6624.44 |       0 |         0 |
|    64 |   144.1 | 3552.28 |       0 |         0 |
|   128 |   348.0 | 2942.78 |       0 |         0 |
|   256 |    1665 | 1230.02 |       0 |         0 |
|   512 |    1420 | 2885.49 |       0 |         0 |
|  1024 |    4009 | 2043.55 |       0 |         0 |
|  2048 |   20057 |  816.86 |       0 |         0 |
|  4096 |   31463 | 1041.49 |       0 |         0 |
|  8192 |   48737 | 1344.70 |       0 |         0 |
| 16384 |  270638 |  484.31 |       0 |         0 |
| 32768 |  666566 |  393.28 |  262487 |         2 |

## IFFT32 Benchmarks

### algo-fft

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |    16.2 | 3957.94 |       0 |         0 |
|    16 |    17.1 | 7475.96 |       0 |         0 |
|    32 |    46.2 | 5536.96 |       0 |         0 |
|    64 |   173.5 | 2950.99 |       0 |         0 |
|   128 |   572.0 | 1790.07 |       0 |         0 |
|   256 |    2218 |  923.52 |       0 |         0 |
|   512 |    2189 | 1871.27 |       0 |         0 |
|  1024 |    4456 | 1838.57 |       0 |         0 |
|  2048 |   24704 |  663.21 |       0 |         0 |
|  4096 |   32808 |  998.79 |       0 |         0 |
|  8192 |   46901 | 1397.33 |       0 |         0 |
| 16384 |  339172 |  386.45 |       0 |         0 |
| 32768 |  681828 |  384.47 |  262243 |         2 |
