# Benchmarks

Command used: \`FFT_BENCH_MAX=32768 GOAMD64=v3 go test -tags=asm -bench . -benchmem ./bench\`

Notes:
- Results are from the latest local run.
- \`algo-fft\` benchmarks include both complex128 and complex64.
- \`go-fftw\` requires FFTW shared libraries.
- \`go-dsp-fft\` allocates on every call (no reusable plan).

## FFT Benchmarks

### algo-fft

|  Size |   ns/op |     MB/s |    B/op | allocs/op |
| ----- | ------- | -------- | ------- | --------- |
|     8 |    12.6 | 10153.49 |       0 |         0 |
|    16 |    75.2 |  3405.45 |       0 |         0 |
|    32 |   147.3 |  3474.91 |       0 |         0 |
|    64 |   262.5 |  3900.78 |       0 |         0 |
|   128 |   682.7 |  2999.65 |       0 |         0 |
|   256 |    1650 |  2482.94 |       0 |         0 |
|   512 |    2671 |  3067.39 |       0 |         0 |
|  1024 |    8421 |  1945.64 |       0 |         0 |
|  2048 |   35382 |   926.12 |      32 |         1 |
|  4096 |   52074 |  1258.51 |       0 |         0 |
|  8192 |  143397 |   914.05 |      32 |         1 |
| 16384 |  207724 |  1261.98 |       0 |         0 |
| 32768 |  751589 |   697.57 |      32 |         1 |

### go-fftw

|  Size |   ns/op |     MB/s |    B/op | allocs/op |
| ----- | ------- | -------- | ------- | --------- |
|     8 |    69.8 |  1834.88 |       0 |         0 |
|    16 |    73.8 |  3470.21 |       0 |         0 |
|    32 |    97.5 |  5249.47 |       0 |         0 |
|    64 |   144.3 |  7096.83 |       0 |         0 |
|   128 |   246.2 |  8317.51 |       0 |         0 |
|   256 |   407.4 | 10054.66 |       0 |         0 |
|   512 |    1280 |  6400.47 |       0 |         0 |
|  1024 |    2102 |  7794.81 |       0 |         0 |
|  2048 |    4616 |  7098.36 |       0 |         0 |
|  4096 |   12919 |  5072.91 |       0 |         0 |
|  8192 |   36436 |  3597.31 |       0 |         0 |
| 16384 |   79431 |  3300.25 |       0 |         0 |
| 32768 |  159417 |  3288.78 |       0 |         0 |

### go-dsp-fft

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |    7462 |   17.15 |     744 |        17 |
|    16 |    9255 |   27.66 |    1180 |        25 |
|    32 |   12659 |   40.45 |    2076 |        41 |
|    64 |   15922 |   64.31 |    3405 |        44 |
|   128 |   22326 |   91.73 |    6304 |        57 |
|   256 |   32713 |  125.21 |   11715 |        67 |
|   512 |   50474 |  162.30 |   22679 |        80 |
|  1024 |   81904 |  200.04 |   43849 |        91 |
|  2048 |  140774 |  232.77 |   85794 |       104 |
|  4096 |  267943 |  244.59 |  165850 |       115 |
|  8192 |  518710 |  252.69 |  329895 |       128 |
| 16384 |  932348 |  281.17 |  657762 |       139 |
| 32768 | 1625445 |  322.55 | 1313343 |       152 |

### gonum

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |   158.8 |  805.84 |       0 |         0 |
|    16 |   238.7 | 1072.55 |       0 |         0 |
|    32 |   616.9 |  829.91 |       0 |         0 |
|    64 |    1186 |  863.24 |       0 |         0 |
|   128 |    2779 |  736.97 |       0 |         0 |
|   256 |    5444 |  752.43 |       0 |         0 |
|   512 |   13524 |  605.75 |       0 |         0 |
|  1024 |   32736 |  500.50 |       0 |         0 |
|  2048 |   69264 |  473.09 |       0 |         0 |
|  4096 |  129839 |  504.75 |       0 |         0 |
|  8192 |  292650 |  447.88 |       0 |         0 |
| 16384 |  602919 |  434.79 |       0 |         0 |
| 32768 | 1155106 |  453.89 |       0 |         0 |

### takatoh

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |   369.8 |  346.13 |     128 |         1 |
|    16 |   939.6 |  272.46 |     256 |         1 |
|    32 |    2336 |  219.16 |     512 |         1 |
|    64 |    4721 |  216.91 |    1024 |         1 |
|   128 |   12582 |  162.77 |    2048 |         1 |
|   256 |   26949 |  151.99 |    4096 |         1 |
|   512 |   59071 |  138.68 |    8192 |         1 |
|  1024 |  120113 |  136.40 |   16384 |         1 |
|  2048 |  243943 |  134.33 |   32768 |         1 |
|  4096 |  570758 |  114.82 |   65536 |         1 |
|  8192 | 1437599 |   91.17 |  131072 |         1 |
| 16384 | 2386133 |  109.86 |  262144 |         1 |
| 32768 | 4685756 |  111.89 |  524288 |         1 |

## IFFT Benchmarks

### algo-fft

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |    16.2 | 7915.16 |       0 |         0 |
|    16 |    63.1 | 4058.33 |       0 |         0 |
|    32 |   151.0 | 3391.78 |       0 |         0 |
|    64 |   291.0 | 3518.52 |       0 |         0 |
|   128 |   712.9 | 2872.90 |       0 |         0 |
|   256 |    1706 | 2401.21 |       0 |         0 |
|   512 |    2481 | 3301.61 |       0 |         0 |
|  1024 |    9524 | 1720.37 |       0 |         0 |
|  2048 |   31856 | 1028.62 |      32 |         1 |
|  4096 |   47206 | 1388.29 |       0 |         0 |
|  8192 |  159444 |  822.06 |      32 |         1 |
| 16384 |  196745 | 1332.40 |       0 |         0 |
| 32768 |  745678 |  703.10 |      32 |         1 |

### go-dsp-fft

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |    6473 |   19.77 |     859 |        18 |
|    16 |    9107 |   28.11 |    1436 |        26 |
|    32 |   12674 |   40.40 |    2588 |        42 |
|    64 |   15453 |   66.27 |    4429 |        45 |
|   128 |   22844 |   89.65 |    8351 |        58 |
|   256 |   32659 |  125.42 |   15810 |        68 |
|   512 |   53200 |  153.99 |   30871 |        81 |
|  1024 |   89954 |  182.14 |   60233 |        92 |
|  2048 |  167392 |  195.76 |  118564 |       105 |
|  4096 |  311604 |  210.32 |  231385 |       116 |
|  8192 |  578670 |  226.51 |  460983 |       129 |
| 16384 | 1135988 |  230.76 |  919911 |       140 |
| 32768 | 2052133 |  255.48 | 1837653 |       153 |

### go-fftw

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |    68.8 | 1861.03 |       0 |         0 |
|    16 |    73.5 | 3482.43 |       0 |         0 |
|    32 |    94.0 | 5444.75 |       0 |         0 |
|    64 |   135.9 | 7535.02 |       0 |         0 |
|   128 |   218.2 | 9387.31 |       0 |         0 |
|   256 |   362.4 | 11302.65 |       0 |         0 |
|   512 |   749.6 | 10928.06 |       0 |         0 |
|  1024 |    2195 | 7463.89 |       0 |         0 |
|  2048 |    4732 | 6924.39 |       0 |         0 |
|  4096 |   13967 | 4692.13 |       0 |         0 |
|  8192 |   31876 | 4111.96 |       0 |         0 |
| 16384 |   77577 | 3379.15 |       0 |         0 |
| 32768 |  145653 | 3599.57 |       0 |         0 |

### gonum

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |   129.9 |  985.73 |       0 |         0 |
|    16 |   207.9 | 1231.56 |       0 |         0 |
|    32 |   585.2 |  874.96 |       0 |         0 |
|    64 |    1028 |  996.12 |       0 |         0 |
|   128 |    2405 |  851.43 |       0 |         0 |
|   256 |    5944 |  689.13 |       0 |         0 |
|   512 |   13459 |  608.68 |       0 |         0 |
|  1024 |   24889 |  658.28 |       0 |         0 |
|  2048 |   56712 |  577.79 |       0 |         0 |
|  4096 |  117553 |  557.50 |       0 |         0 |
|  8192 |  282981 |  463.18 |       0 |         0 |
| 16384 |  637400 |  411.27 |       0 |         0 |
| 32768 | 1377918 |  380.49 |       0 |         0 |

### takatoh

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |   403.1 |  317.50 |     256 |         2 |
|    16 |   937.4 |  273.10 |     512 |         2 |
|    32 |    2118 |  241.74 |    1024 |         2 |
|    64 |    5169 |  198.11 |    2048 |         2 |
|   128 |   10983 |  186.47 |    4096 |         2 |
|   256 |   25186 |  162.63 |    8192 |         2 |
|   512 |   52380 |  156.39 |   16384 |         2 |
|  1024 |  107434 |  152.50 |   32768 |         2 |
|  2048 |  239361 |  136.90 |   65536 |         2 |
|  4096 |  519456 |  126.16 |  131072 |         2 |
|  8192 | 1177315 |  111.33 |  262144 |         2 |
| 16384 | 2695083 |   97.27 |  524288 |         2 |
| 32768 | 5499035 |   95.34 | 1048576 |         2 |

## FFT32 Benchmarks

### algo-fft

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |    14.8 | 4339.67 |       0 |         0 |
|    16 |    32.1 | 3991.58 |       0 |         0 |
|    32 |    60.2 | 4254.16 |       0 |         0 |
|    64 |   299.1 | 1711.74 |       0 |         0 |
|   128 |   510.0 | 2007.80 |       0 |         0 |
|   256 |    1705 | 1200.95 |       0 |         0 |
|   512 |    1757 | 2330.92 |       0 |         0 |
|  1024 |    3890 | 2106.09 |       0 |         0 |
|  2048 |   33163 |  494.05 |       0 |         0 |
|  4096 |   31473 | 1041.13 |       0 |         0 |
|  8192 |  142118 |  461.14 |       0 |         0 |
| 16384 |  258205 |  507.63 |       0 |         0 |
| 32768 |  270221 |  970.11 |      32 |         1 |

## IFFT32 Benchmarks

### algo-fft

|  Size |   ns/op |    MB/s |    B/op | allocs/op |
| ----- | ------- | ------- | ------- | --------- |
|     8 |   127.4 |  502.39 |       0 |         0 |
|    16 |    33.6 | 3812.09 |       0 |         0 |
|    32 |    63.3 | 4041.61 |       0 |         0 |
|    64 |   397.0 | 1289.54 |       0 |         0 |
|   128 |   546.0 | 1875.39 |       0 |         0 |
|   256 |    1810 | 1131.31 |       0 |         0 |
|   512 |    1868 | 2192.27 |       0 |         0 |
|  1024 |    4017 | 2039.30 |       0 |         0 |
|  2048 |   40301 |  406.54 |       0 |         0 |
|  4096 |   32301 | 1014.47 |       0 |         0 |
|  8192 |  190349 |  344.29 |       0 |         0 |
| 16384 |  239736 |  546.73 |       0 |         0 |
| 32768 |  293536 |  893.06 |      32 |         1 |
